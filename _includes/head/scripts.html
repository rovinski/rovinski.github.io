<script>
  {% include scripts/load-js.min.js %}{% include scripts/loadCSS.min.js %}{% include scripts/cssrelpreload.min.js %}

  window._noPushState = {{ site.hydejack.no_push_state | default:site.disable_push_state | default:false }};
  window._noDrawer = {{ site.hydejack.no_drawer | default:site.disable_drawer | default:false }};

  !function(w, d) {
    {% unless site.hydejack.no_google_fonts or site.no_google_fonts %}
      loadJS(d.getElementById('_hrefFFO').href, function() {
        if ('Promise' in w) Promise.all([
          new FontFaceObserver('{{ font | split:',' | first }}').load(),
          new FontFaceObserver('{{ font_heading | split:',' | first }}').load(),
        ]).then(function f() { d.body.classList.add('font-active'); }, function() {});
      });
    {% endunless %}
    {% if site.hydejack.dark_mode.dynamic %}
      d.addEventListener('DOMContentLoaded', function () {
        var h = new Date().getHours();
        var m = h <= {{ site.hydejack.dark_mode.sunrise | default:"6" }} || h >= {{ site.hydejack.dark_mode.sunset | default:"18" }} ? 'add' : 'remove';
        d.body.classList[m]('dark-mode');
      });
    {% endif %}
  }(window, document);
</script>
