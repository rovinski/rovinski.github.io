---
layout: page
---

<!--[if gt IE 8]><!---->
{% if jekyll.environment == 'development' %}
  <link rel="stylesheet" href="{{ '/assets/css/projects.css' | relative_url }}">
{% else %}
  <style>{% capture include_to_scssify %}{% include pro/styles/projects.scss %}{% endcapture %}{{ include_to_scssify | scssify }}</style>
{% endif %}
<!--<![endif]-->

{% assign show_collection = page.show_collection | default:"projects" %}
{% assign ordered_projects = site[show_collection] | sort:"date" | reverse %}
{% assign is_newline = true %}

{% for project in ordered_projects %}
  {% assign currentdate = project.date | date: "%Y" %}

  {% if currentdate != date %}
    {% unless forloop.first %}
      {% unless is_newline %}</div>{% endunless %}
      {% assign is_newline = true %}
    {% endunless %}

    <h2 id="y{{project.date | date: "%Y"}}">{{ currentdate }}</h2>
    {% assign date = currentdate %}
  {% endif %}

  {% if is_newline %}<div class="grid">{% endif %}

  {% if page.big_project != null %}
    {% assign big_project = page.big_project %}
  {% else %}
    {% assign big_project = project.big_project %}
  {% endif %}
  <div class="col {% if big_project %}col-1{% else %}col-1-2{% endif %}">
    {% if big_project %}
      {% assign sizes = "(min-width: 92em) 46rem, (min-width: 60em) 40rem, (min-width: 54em) 32rem, (min-width: 40em) 35.5rem, 100vw" %}
    {% else %}
      {% assign sizes = null %}
    {% endif %}

    {% include pro/project-card.html project=project sizes=sizes %}
  </div>

  {% unless is_newline %}</div>{% endunless %}

  {% if forloop.last %}
    {% if is_newline %}</div>{% endif %}
  {% endif %}

  {% if is_newline %}
    {% assign is_newline = false %}
  {% else %}
    {% assign is_newline = true %}
  {% endif %}
{% endfor %}
